<!DOCTYPE html>
<html>
    <head>
      <!-- <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script> -->
      <!--IMPORTANTISIMO: La libreria de dev te permite tener mas opciones incluida los eventos de markerFound y markerLost-->
    <!--   <script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
      <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/dev/aframe/build/aframe-ar.js"></script> -->
      
      <!-- <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/dev/aframe/build/aframe-ar.js"></script> -->

      <!-- add this script in order to load a large set of 3D model extensions-->
      <!-- <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script> -->
           <!-- <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/cfe5f316/dist/aframe-extras.js"></script>
    

      <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
     
      <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script> -->
      <!--Esta libreria pisa a la otra no sirve <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script> -->

      <script src='https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js'></script>
      <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/cfe5f316/dist/aframe-extras.js"></script>
      <!-- rawgithack development URL -->
      <script src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js'></script>
      <!-- drag script -->
      <script src="https://unpkg.com/aframe-click-drag-component"></script> 

    </head>
    <script>
      registerAframeClickDragComponent(window.NFT);
    </script> 
 
    <!-- style for the loader -->
    <style>

        .arjs-loader {
        height: 100%;
        width: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        }
    
        .arjs-loader div {
        text-align: center;
        font-size: 1.25em;
        color: white;
        }
    </style>
  
  <body style="margin : 0px; overflow: hidden;">
    <!-- minimal loader shown until image descriptors are loaded. Loading may take a while according to the device computational power -->
    <div class="arjs-loader">
      <div> 
        <img  id="marcoImagen" src="../imgs/marco_busqueda.png" height="256" width="256">
      </div>
      
    </div>
  
    <!-- a-frame scene -->
    <a-scene
      vr-mode-ui="enabled: false;"
      renderer="logarithmicDepthBuffer: true;"
      embedded
      arjs="trackingMethod: best; sourceType: webcam;debugUIEnabled: false;"
    >
    <!--todos los assets de abajo funcionan, .glb o .gltf-->
    <a-assets>
      <a-asset id="modelo" src="../modelos3D/shampoo_04.glb"></a-asset>
      <a-asset id="modelo2" src="../modelos3D/shampoo_gltf_04/shampoo_gltf_04.gltf"></a-asset>
      <a-asset id="modelo3" src="../modelos3D/shampoo_anim_02.glb"></a-asset>
      <a-asset id="modelo4" src="../modelos3D/shampoo_gltf_car_01.gltf"></a-asset>
      <img id="alphaM" src="../modelos3D/shampoo_01_01/Shampoo01_Botella_MAT_AlbedoTransparency.png">
  
    </a-assets>
      <!-- link prueba https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/AR-js-org/AR.js/master/aframe/examples/image-tracking/nft/trex/trex-image/trex -->
      <!-- a-nft is the anchor that defines an Image Tracking entity -->
      <!-- on 'url' use the path to the Image Descriptors created before. -->
      <!-- the path should end with the name without the extension e.g. if file is 'pinball.fset' the path should end with 'pinball' -->
      <!-- ../imgs/logo_qr/logo_qr" -->
      <!--../imgs/solo_pantene/pantene_tracker-->
      <a-nft
        type="nft"
        url="../imgs/qr_n_trigger/qr_n_trigger"
        smooth="true"
        smoothCount="10"
        smoothTolerance=".01"
        smoothThreshold="5" 
        
      >
          <!-- as a child of the a-nft entity, you can define the content to show. here's a GLTF model entity -->
          <a-entity  id="walker" 
          gltf-model="#modelo3" 
          click-drag
          material="opacity:0.5; transparent:true; alphaMap: ../modelos3D/shampoo_01_01/Shampoo01_Botella_MAT_AlbedoTransparency.png"
          scale="4 4 4"
          position="50 150 0"
          rotation="0 0 0" 
          animation-mixer>
          </a-entity>
          <!-- <a-entity gltf-model="#my-model" animation-mixer="clip: animation-name"></a-entity> -->

      </a-nft>
      <!-- static camera that moves according to the device movemenents -->
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>